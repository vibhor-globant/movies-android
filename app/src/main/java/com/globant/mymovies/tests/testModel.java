package com.globant.mymovies.tests;

import android.content.Context;
import android.test.InstrumentationTestCase;

import com.globant.mymovies.model.Movie;
import com.globant.mymovies.model.Movies;

import java.util.concurrent.CountDownLatch;

/**
 * Created by vibhor on 10/12/15.
 */

public class TestModel extends InstrumentationTestCase {
    private String page1;
    private String page2;
    private CountDownLatch latch;
    private Boolean remoteFetchPassed;

    public TestModel() {
        page1 = "[{\"adult\":false,\"backdrop_path\":\"/kvXLZqY0Ngl1XSw7EaMQO0C1CCj.jpg\",\"genre_ids\":[28,12,878],\"id\":102899,\"original_language\":\"en\",\"original_title\":\"Ant-Man\",\"overview\":\"Armed with the astonishing ability to shrink in scale but increase in strength, con-man Scott Lang must embrace his inner-hero and help his mentor, Dr. Hank Pym, protect the secret behind his spectacular Ant-Man suit from a new generation of towering threats. Against seemingly insurmountable obstacles, Pym and Lang must plan and pull off a heist that will save the world.\",\"release_date\":\"2015-08-14\",\"poster_path\":\"/D6e8RJf2qUstnfkTslTXNTUAlT.jpg\",\"popularity\":70.009813,\"title\":\"Ant-Man\",\"video\":false,\"vote_average\":7,\"vote_count\":1680},{\"adult\":false,\"backdrop_path\":\"/qSc4L05AnHbMpSk0bsHuX25vX4V.jpg\",\"genre_ids\":[28,12,80],\"id\":206647,\"original_language\":\"en\",\"original_title\":\"Spectre\",\"overview\":\"A cryptic message from Bond’s past sends him on a trail to uncover a sinister organization. While M battles political forces to keep the secret service alive, Bond peels back the layers of deceit to reveal the terrible truth behind SPECTRE.\",\"release_date\":\"2015-10-26\",\"poster_path\":\"/mSvpKOWbyFtLro9BjfEGqUw5dXE.jpg\",\"popularity\":34.993697,\"title\":\"Spectre\",\"video\":false,\"vote_average\":6.3,\"vote_count\":846},{\"adult\":false,\"backdrop_path\":\"/3Kgu3ys6W6UZWWFty7rlTWgST63.jpg\",\"genre_ids\":[28,12,878],\"id\":166424,\"original_language\":\"en\",\"original_title\":\"Fantastic Four\",\"overview\":\"Four young outsiders teleport to a dangerous universe, which alters their physical form in shocking ways. Their lives irrevocably upended, the team must learn to harness their daunting new abilities and work together to save Earth from a former friend turned enemy.\",\"release_date\":\"2015-08-07\",\"poster_path\":\"/g23cs30dCMiG4ldaoVNP1ucjs6.jpg\",\"popularity\":31.096098,\"title\":\"Fantastic Four\",\"video\":false,\"vote_average\":4.5,\"vote_count\":738},{\"adult\":false,\"backdrop_path\":\"/bIlYH4l2AyYvEysmS2AOfjO7Dn8.jpg\",\"genre_ids\":[878,28,53,12],\"id\":87101,\"original_language\":\"en\",\"original_title\":\"Terminator Genisys\",\"overview\":\"The year is 2029. John Connor, leader of the resistance continues the war against the machines. At the Los Angeles offensive, John's fears of the unknown future begin to emerge when TECOM spies reveal a new plot by SkyNet that will attack him from both fronts; past and future, and will ultimately change warfare forever.\",\"release_date\":\"2015-07-01\",\"poster_path\":\"/5JU9ytZJyR3zmClGmVm9q4Geqbd.jpg\",\"popularity\":30.945866,\"title\":\"Terminator Genisys\",\"video\":false,\"vote_average\":6.2,\"vote_count\":1376},{\"adult\":false,\"backdrop_path\":\"/dkMD5qlogeRMiEixC4YNPUvax2T.jpg\",\"genre_ids\":[28,12,878,53],\"id\":135397,\"original_language\":\"en\",\"original_title\":\"Jurassic World\",\"overview\":\"Twenty-two years after the events of Jurassic Park, Isla Nublar now features a fully functioning dinosaur theme park, Jurassic World, as originally envisioned by John Hammond.\",\"release_date\":\"2015-06-12\",\"poster_path\":\"/jjBgi2r5cRt36xF6iNUEhzscEcb.jpg\",\"popularity\":34.029932,\"title\":\"Jurassic World\",\"video\":false,\"vote_average\":6.8,\"vote_count\":3055},{\"adult\":false,\"backdrop_path\":\"/qjn3fzCAHGfl0CzeUlFbjrsmu4c.jpg\",\"genre_ids\":[28,12,18],\"id\":131634,\"original_language\":\"en\",\"original_title\":\"The Hunger Games: Mockingjay - Part 2\",\"overview\":\"With the nation of Panem in a full scale war, Katniss confronts President Snow in the final showdown. Teamed with a group of her closest friends – including Gale, Finnick, and Peeta – Katniss goes off on a mission with the unit from District 13 as they risk their lives to stage an assassination attempt on President Snow who has become increasingly obsessed with destroying her. The mortal traps, enemies, and moral choices that await Katniss will challenge her more than any arena she faced in The Hunger Games.\",\"release_date\":\"2015-11-19\",\"poster_path\":\"/l3tmn2WOAIgLyGP7zcsTYkl5ejH.jpg\",\"popularity\":30.893487,\"title\":\"The Hunger Games: Mockingjay - Part 2\",\"video\":false,\"vote_average\":7.3,\"vote_count\":328},{\"adult\":false,\"backdrop_path\":\"/iBvD5wzkghyTFDvq45sUDVmBsA9.jpg\",\"genre_ids\":[10751,16,12,35],\"id\":211672,\"original_language\":\"en\",\"original_title\":\"Minions\",\"overview\":\"Minions Stuart, Kevin and Bob are recruited by Scarlet Overkill, a super-villain who, alongside her inventor husband Herb, hatches a plot to take over the world.\",\"release_date\":\"2015-07-10\",\"poster_path\":\"/q0R4crx2SehcEEQEkYObktdeFy.jpg\",\"popularity\":24.36919,\"title\":\"Minions\",\"video\":false,\"vote_average\":6.8,\"vote_count\":1736},{\"adult\":false,\"backdrop_path\":\"/iapRFMGKvN9tsjqPlN7MIDTCezG.jpg\",\"genre_ids\":[53,28,878],\"id\":294254,\"original_language\":\"en\",\"original_title\":\"Maze Runner: The Scorch Trials\",\"overview\":\"Thomas and his fellow Gladers face their greatest challenge yet: searching for clues about the mysterious and powerful organization known as WCKD. Their journey takes them to the Scorch, a desolate landscape filled with unimaginable obstacles. Teaming up with resistance fighters, the Gladers take on WCKD’s vastly superior forces and uncover its shocking plans for them all.\",\"release_date\":\"2015-09-18\",\"poster_path\":\"/vlTPQANjLYTebzFJM1G4KeON0cb.jpg\",\"popularity\":19.776679,\"title\":\"Maze Runner: The Scorch Trials\",\"video\":false,\"vote_average\":6.7,\"vote_count\":615},{\"adult\":false,\"backdrop_path\":\"/cUfGqafAVQkatQ7N4y08RNV3bgu.jpg\",\"genre_ids\":[28,18,53],\"id\":254128,\"original_language\":\"en\",\"original_title\":\"San Andreas\",\"overview\":\"In the aftermath of a massive earthquake in California, a rescue-chopper pilot makes a dangerous journey across the state in order to rescue his estranged daughter.\",\"release_date\":\"2015-05-29\",\"poster_path\":\"/qey0tdcOp9kCDdEZuJ87yE3crSe.jpg\",\"popularity\":16.292228,\"title\":\"San Andreas\",\"video\":false,\"vote_average\":6.2,\"vote_count\":1226},{\"adult\":false,\"backdrop_path\":\"/fQbc5XuB4vWA9gnY1CmyxFaOufF.jpg\",\"genre_ids\":[14,878,9648,28,12],\"id\":158852,\"original_language\":\"en\",\"original_title\":\"Tomorrowland\",\"overview\":\"Bound by a shared destiny, a bright, optimistic teen bursting with scientific curiosity and a former boy-genius inventor jaded by disillusionment embark on a danger-filled mission to unearth the secrets of an enigmatic place somewhere in time and space that exists in their collective memory as \\\"Tomorrowland.\\\"\",\"release_date\":\"2015-05-22\",\"poster_path\":\"/69Cz9VNQZy39fUE2g0Ggth6SBTM.jpg\",\"popularity\":15.209569,\"title\":\"Tomorrowland\",\"video\":false,\"vote_average\":6.2,\"vote_count\":961},{\"adult\":false,\"backdrop_path\":\"/oiA53nTC0kgx1a19v6rPGLEdCCz.jpg\",\"genre_ids\":[28,35,878],\"id\":257344,\"original_language\":\"en\",\"original_title\":\"Pixels\",\"overview\":\"Video game experts are recruited by the military to fight 1980s-era video game characters who've attacked New York.\",\"release_date\":\"2015-07-24\",\"poster_path\":\"/ktyVmIqfoaJ8w0gDSZyjhhOPpD6.jpg\",\"popularity\":11.817163,\"title\":\"Pixels\",\"video\":false,\"vote_average\":6.1,\"vote_count\":704},{\"adult\":false,\"backdrop_path\":\"/szytSpLAyBh3ULei3x663mAv5ZT.jpg\",\"genre_ids\":[35,16,10751],\"id\":150540,\"original_language\":\"en\",\"original_title\":\"Inside Out\",\"overview\":\"Growing up can be a bumpy road, and it's no exception for Riley, who is uprooted from her Midwest life when her father starts a new job in San Francisco. Like all of us, Riley is guided by her emotions - Joy, Fear, Anger, Disgust and Sadness. The emotions live in Headquarters, the control center inside Riley's mind, where they help advise her through everyday life. As Riley and her emotions struggle to adjust to a new life in San Francisco, turmoil ensues in Headquarters. Although Joy, Riley's main and most important emotion, tries to keep things positive, the emotions conflict on how best to navigate a new city, house and school.\",\"release_date\":\"2015-06-19\",\"poster_path\":\"/aAmfIX3TT40zUHGcCKrlOZRKC7u.jpg\",\"popularity\":16.238294,\"title\":\"Inside Out\",\"video\":false,\"vote_average\":8.1,\"vote_count\":1818},{\"adult\":false,\"backdrop_path\":\"/sEgULSEnywgdSesVHFHpPAbOijl.jpg\",\"genre_ids\":[18,12,878],\"id\":286217,\"original_language\":\"en\",\"original_title\":\"The Martian\",\"overview\":\"During a manned mission to Mars, Astronaut Mark Watney is presumed dead after a fierce storm and left behind by his crew. But Watney has survived and finds himself stranded and alone on the hostile planet. With only meager supplies, he must draw upon his ingenuity, wit and spirit to subsist and find a way to signal to Earth that he is alive.\",\"release_date\":\"2015-10-02\",\"poster_path\":\"/5aGhaIHYuQbqlHWvWYqMCnj40y2.jpg\",\"popularity\":12.491133,\"title\":\"The Martian\",\"video\":false,\"vote_average\":7.7,\"vote_count\":1115},{\"adult\":false,\"backdrop_path\":\"/570qhjGZmGPrBGnfx70jcwIuBr4.jpg\",\"genre_ids\":[28],\"id\":99861,\"original_language\":\"en\",\"original_title\":\"Avengers: Age of Ultron\",\"overview\":\"When Tony Stark tries to jumpstart a dormant peacekeeping program, things go awry and Earth’s Mightiest Heroes are put to the ultimate test as the fate of the planet hangs in the balance. As the villainous Ultron emerges, it is up to The Avengers to stop him from enacting his terrible plans, and soon uneasy alliances and unexpected action pave the way for an epic and unique global adventure.\",\"release_date\":\"2015-05-01\",\"poster_path\":\"/t90Y3G8UGQp0f0DrP60wRu9gfrH.jpg\",\"popularity\":12.737287,\"title\":\"Avengers: Age of Ultron\",\"video\":false,\"vote_average\":7.5,\"vote_count\":2744},{\"adult\":false,\"backdrop_path\":\"/razvUuLkF7CX4XsLyj02ksC0ayy.jpg\",\"genre_ids\":[80,28,53],\"id\":260346,\"original_language\":\"en\",\"original_title\":\"Taken 3\",\"overview\":\"Ex-government operative Bryan Mills finds his life is shattered when he's falsely accused of a murder that hits close to home. As he's pursued by a savvy police inspector, Mills employs his particular set of skills to track the real killer and exact his unique brand of justice.\",\"release_date\":\"2015-01-09\",\"poster_path\":\"/ikDwR3i2bczqnRf1urJTy77YTFf.jpg\",\"popularity\":12.032825,\"title\":\"Taken 3\",\"video\":false,\"vote_average\":6.2,\"vote_count\":1052},{\"adult\":false,\"backdrop_path\":\"/vZMSji6u1Kfg5TcWWi4IAzfqXfC.jpg\",\"genre_ids\":[28,12,53],\"id\":177677,\"original_language\":\"en\",\"original_title\":\"Mission: Impossible – Rogue Nation\",\"overview\":\"Ethan and team take on their most impossible mission yet, eradicating the Syndicate - an International rogue organization as highly skilled as they are, committed to destroying the IMF.\",\"release_date\":\"2015-07-31\",\"poster_path\":\"/z2sJd1OvAGZLxgjBdSnQoLCfn3M.jpg\",\"popularity\":13.710695,\"title\":\"Mission: Impossible – Rogue Nation\",\"video\":false,\"vote_average\":7.2,\"vote_count\":1250},{\"adult\":false,\"backdrop_path\":\"/lbSVDK7Hs6G5m7Un1EwhZZfKno.jpg\",\"genre_ids\":[28,12,35],\"id\":203801,\"original_language\":\"en\",\"original_title\":\"The Man from U.N.C.L.E.\",\"overview\":\"At the height of the Cold War, a mysterious criminal organization plans to use nuclear weapons and technology to upset the fragile balance of power between the United States and Soviet Union. CIA agent Napoleon Solo and KGB agent Illya Kuryakin are forced to put aside their hostilities and work together to stop the evildoers in their tracks. The duo's only lead is the daughter of a missing German scientist, whom they must find soon to prevent a global catastrophe.\",\"release_date\":\"2015-08-14\",\"poster_path\":\"/5ttOaThDVmTpV8iragbrhdfxEep.jpg\",\"popularity\":10.439898,\"title\":\"The Man from U.N.C.L.E.\",\"video\":false,\"vote_average\":6.9,\"vote_count\":545},{\"adult\":false,\"backdrop_path\":\"/L5QRL1O3fGs2hH1LbtYyVl8Tce.jpg\",\"genre_ids\":[12],\"id\":262500,\"original_language\":\"en\",\"original_title\":\"Insurgent\",\"overview\":\"Beatrice Prior must confront her inner demons and continue her fight against a powerful alliance which threatens to tear her society apart.\",\"release_date\":\"2015-03-20\",\"poster_path\":\"/aBBQSC8ZECGn6Wh92gKDOakSC8p.jpg\",\"popularity\":11.334664,\"title\":\"Insurgent\",\"video\":false,\"vote_average\":6.7,\"vote_count\":1337},{\"adult\":false,\"backdrop_path\":\"/pgSkCrrPO5NWZcvHpXG2l8DxTou.jpg\",\"genre_ids\":[28,12,878,14],\"id\":140607,\"original_language\":\"en\",\"original_title\":\"Star Wars: Episode VII - The Force Awakens\",\"overview\":\"A continuation of the saga created by George Lucas, set thirty years after Star Wars: Episode VI – Return of the Jedi.\",\"release_date\":\"2015-12-18\",\"poster_path\":\"/fYzpM9GmpBlIC893fNjoWCwE24H.jpg\",\"popularity\":9.916971,\"title\":\"Star Wars: Episode VII - The Force Awakens\",\"video\":false,\"vote_average\":8,\"vote_count\":108},{\"adult\":false,\"backdrop_path\":\"/uVo6BMTKdCwjN8eRnpQl3HjLC32.jpg\",\"genre_ids\":[28,12,80,10749,53],\"id\":168259,\"original_language\":\"en\",\"original_title\":\"Furious 7\",\"overview\":\"Deckard Shaw seeks revenge against Dominic Toretto and his family for his comatose brother.\",\"release_date\":\"2015-04-03\",\"poster_path\":\"/dCgm7efXDmiABSdWDHBDBx2jwmn.jpg\",\"popularity\":11.010001,\"title\":\"Furious 7\",\"video\":false,\"vote_average\":7.5,\"vote_count\":1894}]";
        page2 = "[{\"adult\":false,\"backdrop_path\":\"/anItUS64TeGKPv6MJ99DMv7o0Z0.jpg\",\"genre_ids\":[35,10402],\"id\":254470,\"original_language\":\"en\",\"original_title\":\"Pitch Perfect 2\",\"overview\":\"The Bellas are back, and they are better than ever. After being humiliated in front of none other than the President of the United States of America, the Bellas are taken out of the Aca-Circuit. In order to clear their name, and regain their status, the Bellas take on a seemingly impossible task: winning an international competition no American team has ever won. In order to accomplish this monumental task, they need to strengthen the bonds of friendship and sisterhood and blow away the competition with their amazing aca-magic! With all new friends and old rivals tagging along for the trip, the Bellas can hopefully accomplish their dreams.\",\"release_date\":\"2015-05-15\",\"poster_path\":\"/eqMkpgTFGSDySzPs5VlvVwhhjfL.jpg\",\"popularity\":10.286898,\"title\":\"Pitch Perfect 2\",\"video\":false,\"vote_average\":7,\"vote_count\":742},{\"adult\":false,\"backdrop_path\":\"/o6saqjLAgKpczr0yhJkEI9fNwN7.jpg\",\"genre_ids\":[14,28,12],\"id\":274854,\"original_language\":\"en\",\"original_title\":\"The Last Witch Hunter\",\"overview\":\"The modern world holds many secrets, but by far the most astounding is that witches still live among us; vicious supernatural creatures intent on unleashing the Black Death upon the world and putting an end to the human race once and for all. Armies of witch hunters have battled this unnatural enemy for centuries, including Kaulder, a valiant warrior who many years ago slayed the all-powerful Witch Queen, decimating her followers in the process. In the moments right before her death, the Queen cursed Kaulder with immortality, forever separating him from his beloved wife and daughter. Today, Kaulder is the last living hunter who has spent his immortal life tracking down rogue witches, all the while yearning for his long-lost family.\",\"release_date\":\"2015-10-21\",\"poster_path\":\"/xw1GFKzxjgfm3dQoK1swFcHmfaC.jpg\",\"popularity\":11.403008,\"title\":\"The Last Witch Hunter\",\"video\":false,\"vote_average\":5,\"vote_count\":146},{\"adult\":false,\"backdrop_path\":\"/yKY6Sqv7xLHkRGDnfC8fmHRX93i.jpg\",\"genre_ids\":[9648,53,878],\"id\":238615,\"original_language\":\"en\",\"original_title\":\"Self/less\",\"overview\":\"An extremely wealthy elderly man dying from cancer undergoes a radical medical procedure that transfers his consciousness to the body of a healthy young man but everything may not be as good as it seems when he starts to uncover the mystery of the body's origins and the secret organization that will kill to keep its secrets.\",\"release_date\":\"2015-07-10\",\"poster_path\":\"/tjASt1toIaWxjlMwgFXxPfkIoA4.jpg\",\"popularity\":10.512526,\"title\":\"Self/less\",\"video\":false,\"vote_average\":6.3,\"vote_count\":242},{\"adult\":false,\"backdrop_path\":\"/aUYcExsGuRaw7PLGmAmXubt1dfG.jpg\",\"genre_ids\":[10749,14,10751,18],\"id\":150689,\"original_language\":\"en\",\"original_title\":\"Cinderella\",\"overview\":\"When her father unexpectedly passes away, young Ella finds herself at the mercy of her cruel stepmother and her daughters. Never one to give up hope, Ella's fortunes begin to change after meeting a dashing stranger in the woods.\",\"release_date\":\"2015-03-13\",\"poster_path\":\"/2i0JH5WqYFqki7WDhUW56Sg0obh.jpg\",\"popularity\":10.458069,\"title\":\"Cinderella\",\"video\":false,\"vote_average\":6.9,\"vote_count\":827},{\"adult\":false,\"backdrop_path\":\"/wxC0fO9fkNvdLr2joeE4AypuA3s.jpg\",\"genre_ids\":[28,80,53],\"id\":287948,\"original_language\":\"fr\",\"original_title\":\"The Transporter Refueled\",\"overview\":\"The fast-paced action movie is again set in the criminal underworld in France, where Frank Martin (Skrein) is known as The Transporter, because he is the best driver and mercenary money can buy. In this installment, he meets Anna (Chabanol) and they attempt to take down a group of ruthless Russian human traffickers who also have kidnapped Frank’s father.\",\"release_date\":\"2015-09-04\",\"poster_path\":\"/zW7oC3tucYLzu77xNbPbYjXUN4o.jpg\",\"popularity\":7.466522,\"title\":\"The Transporter Refueled\",\"video\":false,\"vote_average\":4.9,\"vote_count\":120},{\"adult\":false,\"backdrop_path\":\"/t2MSWYECVqbCW14c9qzpp0GqsBz.jpg\",\"genre_ids\":[14,16,35,10751,12],\"id\":105864,\"original_language\":\"en\",\"original_title\":\"The Good Dinosaur\",\"overview\":\"An epic journey into the world of dinosaurs where an Apatosaurus named Arlo makes an unlikely human friend.\",\"release_date\":\"2015-11-26\",\"poster_path\":\"/2ZckiMTfSkCep2JTtZbr73tnQbN.jpg\",\"popularity\":9.71259,\"title\":\"The Good Dinosaur\",\"video\":false,\"vote_average\":3.6,\"vote_count\":42},{\"adult\":false,\"backdrop_path\":\"/4liSXBZZdURI0c1Id1zLJo6Z3Gu.jpg\",\"genre_ids\":[28,12,14,878],\"id\":76757,\"original_language\":\"en\",\"original_title\":\"Jupiter Ascending\",\"overview\":\"In a universe where human genetic material is the most precious commodity, an impoverished young Earth woman becomes the key to strategic maneuvers and internal strife within a powerful dynasty…\",\"release_date\":\"2015-02-05\",\"poster_path\":\"/aMEsvTUklw0uZ3gk3Q6lAj6302a.jpg\",\"popularity\":7.185661,\"title\":\"Jupiter Ascending\",\"video\":false,\"vote_average\":5.3,\"vote_count\":1295},{\"adult\":false,\"backdrop_path\":\"/tGxBYYSKSmBUpjSHDpRelsbNeBy.jpg\",\"genre_ids\":[80,53,28],\"id\":334074,\"original_language\":\"en\",\"original_title\":\"Survivor\",\"overview\":\"A Foreign Service Officer in London tries to prevent a terrorist attack set to hit New York, but is forced to go on the run when she is framed for crimes she did not commit.\",\"release_date\":\"2015-05-29\",\"poster_path\":\"/XtvR1aSph7X3wqrE2PY66IPzVi.jpg\",\"popularity\":7.410289,\"title\":\"Survivor\",\"video\":false,\"vote_average\":5.4,\"vote_count\":169},{\"adult\":false,\"backdrop_path\":\"/i2otKlu6k5xM0bvA69y4z7XaCGo.jpg\",\"genre_ids\":[27,53],\"id\":243688,\"original_language\":\"en\",\"original_title\":\"Poltergeist\",\"overview\":\"Legendary filmmaker Sam Raimi and director Gil Kenan reimagine and contemporize the classic tale about a family whose suburban home is invaded by angry spirits. When the terrifying apparitions escalate their attacks and take the youngest daughter, the family must come together to rescue her.\",\"release_date\":\"2015-05-22\",\"poster_path\":\"/fWOPN0XBvHXFYr3RsPr74qBge2I.jpg\",\"popularity\":6.093898,\"title\":\"Poltergeist\",\"video\":false,\"vote_average\":5,\"vote_count\":354},{\"adult\":false,\"backdrop_path\":\"/uoEGDW5hgEjV14XVIaB0ImqSHgx.jpg\",\"genre_ids\":[53,12,18],\"id\":253412,\"original_language\":\"en\",\"original_title\":\"Everest\",\"overview\":\"Inspired by the incredible events surrounding a treacherous attempt to reach the summit of the world's highest mountain, \\\"Everest\\\" documents the awe-inspiring journey of two different expeditions challenged beyond their limits by one of the fiercest snowstorms ever encountered by mankind. Their mettle tested by the harshest of elements found on the planet, the climbers will face nearly impossible obstacles as a lifelong obsession becomes a breathtaking struggle for survival.\",\"release_date\":\"2015-09-17\",\"poster_path\":\"/t3ELL46AnqjS9djz1vEVh4MpKv0.jpg\",\"popularity\":5.167531,\"title\":\"Everest\",\"video\":false,\"vote_average\":6.7,\"vote_count\":320},{\"adult\":false,\"backdrop_path\":\"/fUy24noAFIZfMe1iHBHqX9bhSSD.jpg\",\"genre_ids\":[9648,80,18],\"id\":280996,\"original_language\":\"en\",\"original_title\":\"Mr. Holmes\",\"overview\":\"The story is set in 1947, following a long-retired Holmes living in a Sussex village with his housekeeper and rising detective son. But then he finds himself haunted by an unsolved 50-year old case. Holmes' memory isn't what it used to be, so he only remembers fragments of the case: a confrontation with an angry husband, a secret bond with his beautiful but unstable wife.\",\"release_date\":\"2015-07-17\",\"poster_path\":\"/9v25BUcPSxRS3yJ2yd3GHZOtoS8.jpg\",\"popularity\":6.292376,\"title\":\"Mr. Holmes\",\"video\":false,\"vote_average\":6.3,\"vote_count\":134},{\"adult\":false,\"backdrop_path\":\"/lYDo1YikcXkgtUQsToBdDTGw3jV.jpg\",\"genre_ids\":[53,18],\"id\":296098,\"original_language\":\"en\",\"original_title\":\"Bridge of Spies\",\"overview\":\"An American lawyer is recruited by the CIA during the Cold War to help rescue a pilot detained in the Soviet Union.\",\"release_date\":\"2015-10-16\",\"poster_path\":\"/AcuW0ITY1WElLzIoiA6PpPCsGwm.jpg\",\"popularity\":5.247761,\"title\":\"Bridge of Spies\",\"video\":false,\"vote_average\":5.6,\"vote_count\":116},{\"adult\":false,\"backdrop_path\":\"/iAsnIAyoauaGYmQwh2JOd1ibhke.jpg\",\"genre_ids\":[14,18,10749],\"id\":293863,\"original_language\":\"en\",\"original_title\":\"The Age of Adaline\",\"overview\":\"After 29-year-old Adaline recovers from a nearly lethal accident, she inexplicably stops growing older. As the years stretch on and on, Adaline keeps her secret to herself  until she meets a man who changes her life.\",\"release_date\":\"2015-04-24\",\"poster_path\":\"/gEDGROZ4NQDlRjUPPSSyIf0hKvD.jpg\",\"popularity\":5.097921,\"title\":\"The Age of Adaline\",\"video\":false,\"vote_average\":7.4,\"vote_count\":534},{\"adult\":false,\"backdrop_path\":\"/nTjGB5omiZIiZRS8zazwlPVs24m.jpg\",\"genre_ids\":[12],\"id\":68737,\"original_language\":\"en\",\"original_title\":\"Seventh Son\",\"overview\":\"John Gregory, who is a seventh son of a seventh son and also the local spook, has protected he country from witches, boggarts, ghouls and all manner of things that go bump in the night. However John is not young anymore, and has been seeking an apprentice to carry on his trade. Most have failed to survive. The last hope is a young farmer's son named Thomas Ward. Will he survive the training to become the spook that so many others couldn't?\",\"release_date\":\"2015-02-06\",\"poster_path\":\"/A3SBRfCSgKNcW2IkbaaOgugLwRt.jpg\",\"popularity\":6.516996,\"title\":\"Seventh Son\",\"video\":false,\"vote_average\":5.2,\"vote_count\":449},{\"adult\":false,\"backdrop_path\":\"/wd66GNMSUe0UCNCmOvMJkmQb2mn.jpg\",\"genre_ids\":[18,28,80],\"id\":290764,\"original_language\":\"en\",\"original_title\":\"Tracers\",\"overview\":\"Wanted by the mafia, a New York City bike messenger escapes into the world of parkour after meeting a beautiful stranger.\",\"release_date\":\"2015-06-18\",\"poster_path\":\"/mctuPOqqkXJM8zwqhHindrMycmt.jpg\",\"popularity\":4.896359,\"title\":\"Tracers\",\"video\":false,\"vote_average\":6,\"vote_count\":205},{\"adult\":false,\"backdrop_path\":\"/h3t4zZPteUPqyDBrmz5Z2zzGM61.jpg\",\"genre_ids\":[35,16],\"id\":159824,\"original_language\":\"en\",\"original_title\":\"Hotel Transylvania 2\",\"overview\":\"When the old-old-old-fashioned vampire Vlad arrives at the hotel for an impromptu family get-together, Hotel Transylvania is in for a collision of supernatural old-school and modern day cool.\",\"release_date\":\"2015-09-25\",\"poster_path\":\"/t4PLWexbe4wbNydCOBv18cYexup.jpg\",\"popularity\":4.637551,\"title\":\"Hotel Transylvania 2\",\"video\":false,\"vote_average\":6.8,\"vote_count\":285},{\"adult\":false,\"backdrop_path\":\"/qXyyWhDykdYoCSeqVVUlsfSso2o.jpg\",\"genre_ids\":[36,18],\"id\":293646,\"original_language\":\"en\",\"original_title\":\"The 33\",\"overview\":\"Based on a true story about the collapse at the mine in San Jose, Chile that  left 33 miners isolated underground for 69 days.\",\"release_date\":\"2015-11-13\",\"poster_path\":\"/cQ21yxf5seYrGzjFmMzCkX9PHa2.jpg\",\"popularity\":4.578783,\"title\":\"The 33\",\"video\":false,\"vote_average\":4.3,\"vote_count\":70},{\"adult\":false,\"backdrop_path\":\"/wHluZnnKhErthlKQ92wM2r1T3oL.jpg\",\"genre_ids\":[10749,9648,12],\"id\":286565,\"original_language\":\"en\",\"original_title\":\"Paper Towns\",\"overview\":\"Quentin Jacobsen has spent a lifetime loving the magnificently adventurous Margo Roth Spiegelman from afar. So when she cracks open a window and climbs back into his life-dressed like a ninja and summoning him for an ingenious campaign of revenge-he follows. After their all-nighter ends and a new day breaks, Q arrives at school to discover that Margo, always an enigma, has now become a mystery. But Q soon learns that there are clues-and they're for him. Urged down a disconnected path, the closer he gets, the less Q sees of the girl he thought he knew.\",\"release_date\":\"2015-07-24\",\"poster_path\":\"/mIYVDgnzx6Y0f1bSx50cPiBTc2t.jpg\",\"popularity\":4.401932,\"title\":\"Paper Towns\",\"video\":false,\"vote_average\":6.7,\"vote_count\":580},{\"adult\":false,\"backdrop_path\":\"/40XyLPPs0e4CqytmSPntnWaDbOg.jpg\",\"genre_ids\":[18,27,53],\"id\":280092,\"original_language\":\"en\",\"original_title\":\"Insidious: Chapter 3\",\"overview\":\"A twisted new tale of terror begins for a teenage girl and her family, predating the haunting of the Lambert family in the earlier movies and revealing more mysteries of the otherworldly realm The Further.\",\"release_date\":\"2015-06-05\",\"poster_path\":\"/ixANIbPRTNMAstlqJa2FlfBesyQ.jpg\",\"popularity\":4.283479,\"title\":\"Insidious: Chapter 3\",\"video\":false,\"vote_average\":6.3,\"vote_count\":353},{\"adult\":false,\"backdrop_path\":\"/5S1Peo0X5iRbzTzsdrgEENNKU98.jpg\",\"genre_ids\":[878,53],\"id\":227719,\"original_language\":\"en\",\"original_title\":\"Project Almanac\",\"overview\":\"A group of teens discover secret plans of a time machine, and construct one. However, things start to get out of control.\",\"release_date\":\"2015-01-30\",\"poster_path\":\"/g3Krq7P7pkgjWpzUDA6lrniiSJ7.jpg\",\"popularity\":4.050636,\"title\":\"Project Almanac\",\"video\":false,\"vote_average\":6.4,\"vote_count\":391}]";
    }

    public void testModelInitialization() throws Exception {
        Movies movies = new Movies(page1, getInstrumentation().getContext());
        assertNotNull(movies);
        assertNotNull(movies.mMovies);
        assertEquals(20, movies.mMovies.size());
        int ii = 0;
        while(movies.mMovies.size() > ii) {
            assertTrue(movies.mMovies.get(ii).getClass().equals(Movie.class));
            ii++;
        }
    }

    public void testModelCanAppendFromJson() throws Exception {
        Movies movies = new Movies(page1, getInstrumentation().getContext());
        movies.append(page2);
        assertEquals(40, movies.mMovies.size());
        int ii = 0;
        while(movies.mMovies.size() > ii) {
            assertTrue(movies.mMovies.get(ii).getClass().equals(Movie.class));
            ii++;
        }
    }

    public void testModelUpdatesLikeCount() throws Exception {
        Movies movies = new Movies(page1, getInstrumentation().getContext());
        assertEquals(movies.mMovies.get(0).like_count, 0);
        assertEquals(movies.mMovies.get(0).unlike_count, 0);
        movies.mMovies.get(0).like();
        assertEquals(movies.mMovies.get(0).like_count, 1);
        assertEquals(movies.mMovies.get(0).unlike_count, 0);
        movies.mMovies.get(0).unlike();
        assertEquals(movies.mMovies.get(0).like_count, 1);
        assertEquals(movies.mMovies.get(0).unlike_count, 1);
    }

//    public void testModelInitializationFromRemote() throws Exception {
//        this.latch = new CountDownLatch(1);
//        this.remoteFetchPassed = false;
//        Movies movies = new Movies(getInstrumentation().getContext());
//        movies.getNextPage(new Movies.GetNextPageCallback() {
//            @Override
//            public void onSuccess() {
//                TestModel.this.remoteFetchPassed = true;
//                TestModel.this.latch.countDown();
//            }
//
//            @Override
//            public void onError() {
//                TestModel.this.remoteFetchPassed = false;
//                TestModel.this.latch.countDown();
//            }
//        });
//        this.latch.await();
//        assertTrue(this.remoteFetchPassed);
//    }
}
